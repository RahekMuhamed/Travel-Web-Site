<form [formGroup]="packageForm" (ngSubmit)="save()">
  <div class="card-body p-5" id="addpackage">
    <div class="mb-md-6 mt-md-4 pb-5">
      <h2 class="fw-bold mb-2 text-uppercase text-center">Add Package</h2>
      <p class="mb-4 text-center">Please enter Package information</p>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-outline form-white mb-4">
                      <label class="form-label" for="name">Package Name</label>
                      <input formControlName="name" type="text" id="name" class="form-control form-control-lg" required>
                      <div *ngIf="formControls['name']?.touched && formControls['name']?.errors?.['required']" class="text-danger">
                        Package Name is required.
                      </div>
                    </div>




          <div class="form-outline form-white mb-4">
            <label class="form-label" for="quantityAvailable">Quantity Available</label>
            <input formControlName="quantityAvailable" type="number" id="quantityAvailable" class="form-control form-control-lg" />
          </div>






          <div class="form-outline form-white mb-4">
            <label class="form-label" for="price">Price</label>
            <input formControlName="price" type="number" id="price" class="form-control form-control-lg" required />
            <div *ngIf="formControls['price']?.touched && formControls['price']?.errors?.['required']" class="text-danger">
              Price is required.
            </div>
          </div>


          <div class="form-outline form-white mb-4">
            <label class="form-label" for="services">Services</label>
            <ng-multiselect-dropdown
              [placeholder]="'Select Services'"
              [data]="servicesList"
              formControlName="services"
              [settings]="dropdownSettings">
            </ng-multiselect-dropdown>
            <div *ngIf="formControls['services'].touched && formControls['services'].errors?.['required']" class="text-danger">
              At least one service is required.
            </div>
          </div>


          <div class="form-outline form-white mb-4">
            <label class="form-label" for="firstLocation">First Location</label>
            <select formControlName="firstLocation" id="firstLocation" class="form-control form-control-lg" (change)="onFirstLocationChange()">
              <option *ngFor="let location of locationEnum" [value]="location.value">{{ location.label }}</option>
            </select>
            <div *ngIf="formControls['firstLocation']?.touched && formControls['firstLocation']?.errors?.['required']" class="text-danger">
              First Location is required.
            </div>
          </div>

          <div class="form-outline form-white mb-4">
            <label class="form-label" for="firstLocationDuration">First Location Duration (days)</label>
            <input formControlName="firstLocationDuration" type="number" id="firstLocationDuration" class="form-control form-control-lg" required (input)="calculateSecondLocationDuration()" />
            <div *ngIf="formControls['firstLocationDuration']?.touched && formControls['firstLocationDuration']?.errors?.['required']" class="text-danger">
              First Location Duration is required.
            </div>
          </div>


        <div class="form-outline form-white mb-4">
          <input formControlName="image" type="file" id="image" name="image" class="form-control form-control-lg visually-hidden" accept="image/*" (change)="imageUpload($event)" />
          <label for="image" class="btn btn-primary btn-sm m-2">Select File</label>
          <label class="form-label" for="image">Upload Image</label>
          <span>{{ imageName }}</span>
         <div *ngIf="formControls['image']?.touched && formControls['image']?.errors?.['required']" class="text-danger">
            Image is required.
          </div>
        </div>
      </div>


        <div class="col-md-6">
          <div class="form-outline form-white mb-4">
            <label class="form-label" for="description">Description</label>
            <textarea formControlName="description" id="description" class="form-control form-control-lg" rows="1" required></textarea>
            <div *ngIf="formControls['description']?.touched && formControls['description']?.errors?.['required']" class="text-danger">
              Description is required.
            </div>
          </div>

          <div class="form-outline form-white mb-4">
            <label class="form-label" for="startDate">Start Date</label>
            <input formControlName="startDate" type="date" id="startDate" class="form-control form-control-lg" required />
            <div *ngIf="formControls['startDate']?.touched && formControls['startDate']?.errors?.['required']" class="text-danger">
              Start Date is required.
            </div>
          </div>

          <div class="form-outline form-white mb-4">
            <label class="form-label" for="duration">Duration (days)</label>
            <input formControlName="duration" type="number" id="duration" class="form-control form-control-lg" required />
            <div *ngIf="formControls['duration']?.touched && formControls['duration']?.errors?.['required']" class="text-danger">
              Duration is required.
            </div>
          </div>
              <div class="form-outline form-white mb-4">
                <label class="form-label" for="firstLocation">First Location</label>
                <!-- <select formControlName="firstLocation" id="firstLocation" class="form-control form-control-lg">
                  <option *ngFor="let location of packageLocations" [value]="location">{{location}}</option>
                </select> -->
              </div>

              <div class="form-outline form-white mb-4">
                <label class="form-label" for="secondLocation">Second Location</label>
                <!-- <select formControlName="secondLocation" id="secondLocation" class="form-control form-control-lg">
                  <option *ngFor="let location of packageLocations" [value]="location">{{location}}</option>
                </select> -->
              </div>
                <div class="form-outline form-white mb-4">
                  <label class="form-label" for="firstLocationDuration">FirstLocationDuration (days)</label>
                  <input formControlName="firstLocationDuration" type="number" id="firstLocationDuration" class="form-control form-control-lg" required />
                  <div *ngIf="formControls['firstLocationDuration']?.touched && formControls['firstLocationDuration']?.errors?.['required']" class="text-danger">
                    FirstLocationDuration is required.
                  </div>

          <div class="form-outline form-white mb-4">
            <label class="form-label" for="BookingTimeAllowed">Booking Time Allowed (days)</label>
            <input formControlName="BookingTimeAllowed" type="number" id="BookingTimeAllowed" class="form-control form-control-lg" required />
            <div *ngIf="formControls['BookingTimeAllowed']?.touched && formControls['BookingTimeAllowed']?.errors?.['required']" class="text-danger">
              Booking Time Allowed is required.
            </div>
          </div>



          <div class="form-outline form-white mb-4">
            <label class="form-label" for="secondLocation">Second Location</label>
            <select formControlName="secondLocation" id="secondLocation" class="form-control form-control-lg" required>
              <option *ngFor="let location of filteredLocationOptions" [value]="location.value">{{ location.label }}</option>
            </select>
            <div *ngIf="formControls['secondLocation']?.touched && formControls['secondLocation']?.errors?.['required']" class="text-danger">
              Second Location is required.
            </div>
          </div>



          <div class="form-outline form-white mb-4">
            <label class="form-label" for="secondLocationDuration">Second Location Duration (days)</label>
            <input formControlName="secondLocationDuration" type="number" id="secondLocationDuration" class="form-control form-control-lg" required readonly />
            <div *ngIf="formControls['secondLocationDuration']?.touched && formControls['secondLocationDuration']?.errors?.['required']" class="text-danger">
              Second Location Duration is required.
            </div>
          </div>



          <div class="form-outline form-white mb-4">
            <input formControlName="isDeleted" type="checkbox" id="isDeleted" class="form-check-input me-2" />
            <label class="form-label" for="isDeleted">Is Deleted</label>
          </div>
        </div>
      </div>

      <div class="d-flex justify-content-center">
        <button class="btn btn-primary" type="submit">Add Package</button>
      </div>
    </div>
  </div>
  </div>
  </form>

